<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pelton Turbine Calculator</title>
<style>
  :root {
    --primary: #2c3e50;
    --secondary: #3498db;
    --accent: #e74c3c;
    --light: #ecf0f1;
    --dark: #2c3e50;
    --success: #2ecc71;
    --shadow: rgba(0, 0, 0, 0.1);
    --dark-bg: #0c1117;
    --dark-container: #131c27;
    --dark-input: #1e2a37;
    --dark-border: #334a5f;
  }
  
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: var(--dark);
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    min-height: 100vh;
    padding: 20px;
    transition: background 0.3s, color 0.3s;
  }
  
  .dark-mode body {
    background: var(--dark-bg);
    color: #eee;
  }
  
  .container {
    max-width: 1200px;
    margin: 0 auto;
    background-color: white;
    border-radius: 12px;
    box-shadow: 0 8px 25px var(--shadow);
    padding: 32px;
    animation: fade 0.6s ease-in;
    transition: background-color 0.3s;
  }
  
  .dark-mode .container {
    background-color: var(--dark-container);
  }
  
  header {
    text-align: center;
    margin-bottom: 30px;
    padding: 20px;
    background-color: var(--light);
    border-radius: 10px;
    box-shadow: 0 5px 15px var(--shadow);
    transition: background-color 0.3s;
  }
  
  .dark-mode header {
    background-color: #14202a;
  }
  
  h1 {
    color: var(--primary);
    margin-bottom: 10px;
    font-size: 2.2rem;
    border-bottom: 3px solid var(--secondary);
    padding: 10px;
  }
  
  .dark-mode h1 {
    color: #fff;
    border-color: #1c82d5;
  }
  
  .subtitle {
    color: #7f8c8d;
    font-size: 1.1rem;
  }
  
  .dark-mode .subtitle {
    color: #a0aec0;
  }
  
  .calculator-container {
    display: flex;
    flex-wrap: wrap;
    gap: 30px;
    margin-bottom: 30px;
  }
  
  .input-section, .results-section {
    flex: 1;
    min-width: 300px;
    background-color: #f8fafc;
    border-radius: 10px;
    box-shadow: 0 5px 15px var(--shadow);
    padding: 25px;
    transition: background-color 0.3s;
    animation: slideIn 0.6s;
  }
  
  .dark-mode .input-section, .dark-mode .results-section {
    background-color: #14202a;
  }
  
  .section-title {
    color: var(--primary);
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 2px solid var(--light);
    font-size: 1.4rem;
  }
  
  .dark-mode .section-title {
    color: #fff;
    border-color: #2b3e50;
  }
  
  .input-group {
    margin-bottom: 20px;
    position: relative;
  }
  
  .input-header {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
  }
  
  label {
    font-weight: 600;
    color: var(--dark);
    margin-right: 8px;
  }
  
  .dark-mode label {
    color: #e2e8f0;
  }
  
  .info-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    background-color: var(--secondary);
    color: white;
    border-radius: 50%;
    font-size: 12px;
    font-weight: bold;
    cursor: help;
    transition: background-color 0.3s;
  }
  
  .info-icon:hover {
    background-color: #2980b9;
  }
  
  .input-with-unit {
    display: flex;
    align-items: center;
  }
  
  input[type="number"] {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
    transition: border-color 0.3s, background-color 0.3s, color 0.3s;
  }
  
  input[type="number"]:focus {
    border-color: var(--secondary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
  }
  
  .dark-mode input[type="number"] {
    background-color: var(--dark-input);
    color: #fff;
    border-color: var(--dark-border);
  }
  
  .unit {
    margin-left: 10px;
    color: #7f8c8d;
    font-weight: 500;
  }
  
  .dark-mode .unit {
    color: #a0aec0;
  }
  
  .calculate-btn {
    width: 100%;
    padding: 15px;
    background-color: var(--secondary);
    color: white;
    border: none;
    border-radius: 5px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
    margin-top: 10px;
  }
  
  .calculate-btn:hover {
    background-color: #2980b9;
    transform: translateY(-2px);
  }
  
  .calculate-btn:active {
    transform: translateY(0);
  }
  
  .dark-mode .calculate-btn {
    background-color: #1c82d5;
  }
  
  .results-container {
    display: none;
  }
  
  .result-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 15px;
  }
  
  .result-item {
    background-color: var(--light);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid var(--secondary);
    transition: background-color 0.3s;
    position: relative;
    cursor: help;
  }
  
  .dark-mode .result-item {
    background-color: #102029;
  }
  
  .result-label {
    font-size: 0.9rem;
    color: #7f8c8d;
    margin-bottom: 5px;
  }
  
  .dark-mode .result-label {
    color: #a0aec0;
  }
  
  .result-value {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary);
  }
  
  .dark-mode .result-value {
    color: #fff;
  }
  
  .info-section {
    background-color: white;
    border-radius: 10px;
    box-shadow: 0 5px 15px var(--shadow);
    padding: 25px;
    margin-top: 30px;
    transition: background-color 0.3s;
  }
  
  .dark-mode .info-section {
    background-color: #14202a;
  }
  
  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }
  
  .info-card {
    padding: 15px;
    background-color: var(--light);
    border-radius: 8px;
    transition: background-color 0.3s;
  }
  
  .dark-mode .info-card {
    background-color: #102029;
  }
  
  .info-card h3 {
    color: var(--primary);
    margin-bottom: 10px;
    font-size: 1.1rem;
  }
  
  .dark-mode .info-card h3 {
    color: #fff;
  }
  
  .info-card p {
    color: #5d6d7e;
    font-size: 0.95rem;
  }
  
  .dark-mode .info-card p {
    color: #a0aec0;
  }
  
  .toggle-dark {
    position: fixed;
    top: 15px;
    right: 15px;
    background: var(--primary);
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 14px;
    cursor: pointer;
    z-index: 10;
    border: none;
    transition: 0.2s;
  }
  
  .toggle-dark:hover {
    opacity: 0.8;
  }
  
  .dark-mode .toggle-dark {
    background: #1c82d5;
  }
  
  .formula {
    font-family: 'Courier New', monospace;
    background: #eef7ff;
    padding: 3px 6px;
    border-radius: 4px;
  }
  
  .dark-mode .formula {
    background: #223546;
  }
  
  /* Tooltip styles */
  .tooltip {
    position: absolute;
    background-color: #2c3e50;
    color: white;
    padding: 15px;
    border-radius: 6px;
    font-size: 0.9rem;
    width: 320px;
    z-index: 100;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s, visibility 0.3s;
    pointer-events: none;
    line-height: 1.5;
  }
  
  .input-group .tooltip {
    top: 0;
    left: 105%;
  }
  
  .result-item:hover .tooltip {
    opacity: 1;
    visibility: visible;
  }
  
  .input-group:hover .tooltip {
    opacity: 1;
    visibility: visible;
  }
  
  .tooltip-title {
    font-weight: bold;
    margin-bottom: 8px;
    color: #3498db;
    font-size: 1.1rem;
  }
  
  .tooltip-formula {
    font-family: 'Courier New', monospace;
    background: rgba(255,255,255,0.1);
    padding: 8px;
    border-radius: 4px;
    margin: 10px 0;
    font-size: 0.95rem;
  }
  
  .tooltip-description {
    font-size: 0.85rem;
    line-height: 1.5;
  }
  
  .tooltip-typical {
    margin-top: 8px;
    font-size: 0.8rem;
    font-style: italic;
    color: #bdc3c7;
  }
  
  @keyframes fade {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  @keyframes slideIn {
    from { transform: translateY(8px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }
  
  @media (max-width: 768px) {
    .calculator-container {
      flex-direction: column;
    }
    
    .result-grid {
      grid-template-columns: 1fr;
    }
    
    .tooltip {
      width: 280px;
      font-size: 0.8rem;
    }
    
    .input-group .tooltip {
      left: 0;
      top: 100%;
      margin-top: 5px;
    }
  }
</style>
</head>
<body>
  <button class="toggle-dark" onclick="toggleDarkMode()">üåô Dark Mode</button>

  <div class="container">
    <header>
      <h1>Pelton Turbine Calculator</h1>
      <p class="subtitle">Calculate all parameters for your Pelton turbine based on head, flow rate, and electrical parameters</p>
    </header>
    
    <div class="calculator-container">
      <div class="input-section">
        <h2 class="section-title">Input Parameters</h2>
        
        <div class="input-group">
          <div class="input-header">
            <label for="head">Head (H)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="head" value="100" step="any" min="0" />
            <span class="unit">meters (m)</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Head (H)</div>
            <div class="tooltip-formula">H = Vertical distance water falls</div>
            <div class="tooltip-description">
              The effective vertical height difference between the water source and the turbine. 
              This is a critical parameter that determines the potential energy available for conversion to mechanical energy.
            </div>
            <div class="tooltip-typical">Typical values: 50-2000 m for Pelton turbines</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="flow">Flow Rate (Q)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="flow" value="0.3" step="any" min="0" />
            <span class="unit">m¬≥/s</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Flow Rate (Q)</div>
            <div class="tooltip-formula">Q = Volume of water per unit time</div>
            <div class="tooltip-description">
              The volumetric flow rate of water through the turbine. Combined with head, this determines 
              the total hydraulic power available to the turbine.
            </div>
            <div class="tooltip-typical">Typical values: 0.1-10 m¬≥/s for Pelton turbines</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="frequency">Electrical Frequency (f)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="frequency" value="50" step="any" min="0" />
            <span class="unit">Hz</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Electrical Frequency (f)</div>
            <div class="tooltip-formula">f = AC frequency of electrical grid</div>
            <div class="tooltip-description">
              The frequency of the alternating current in the electrical grid. This determines the required 
              rotational speed of the generator to maintain synchronization with the grid.
            </div>
            <div class="tooltip-typical">Common values: 50 Hz (Europe, Asia) or 60 Hz (Americas)</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="poles">Number of Poles (p)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="poles" value="4" step="1" min="2" />
            <span class="unit">poles</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Number of Poles (p)</div>
            <div class="tooltip-formula">p = Number of magnetic poles in generator</div>
            <div class="tooltip-description">
              The number of magnetic poles in the generator. Together with electrical frequency, this determines 
              the synchronous speed of the generator according to the formula: n = (120 √ó f) / p
            </div>
            <div class="tooltip-typical">Common values: 4, 6, 8, 10, 12 poles</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="density">Density (œÅ)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="density" value="1000" step="any" min="0" />
            <span class="unit">kg/m¬≥</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Density (œÅ)</div>
            <div class="tooltip-formula">œÅ = Mass per unit volume of water</div>
            <div class="tooltip-description">
              The mass density of water. This is used in power calculations to convert volumetric flow rate 
              to mass flow rate in the power equation: P = œÅ √ó g √ó H √ó Q √ó Œ∑
            </div>
            <div class="tooltip-typical">Standard value: 1000 kg/m¬≥ for pure water at 4¬∞C</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="gravity">Gravity (g)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="gravity" value="9.81" step="any" min="0" />
            <span class="unit">m/s¬≤</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Gravity (g)</div>
            <div class="tooltip-formula">g = Acceleration due to gravity</div>
            <div class="tooltip-description">
              The acceleration due to gravity at the Earth's surface. This constant appears in both the 
              jet velocity calculation (Vj = ‚àö(2 √ó g √ó H)) and the power calculation.
            </div>
            <div class="tooltip-typical">Standard value: 9.81 m/s¬≤</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="efficiency">Overall Efficiency (Œ∑‚ÇÄ)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="efficiency" value="0.85" step="0.01" min="0" max="1" />
            <span class="unit">(0-1)</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Overall Efficiency (Œ∑‚ÇÄ)</div>
            <div class="tooltip-formula">Œ∑‚ÇÄ = Mechanical power output / Hydraulic power input</div>
            <div class="tooltip-description">
              The ratio of mechanical power output to hydraulic power input. This accounts for all losses 
              in the system including hydraulic, mechanical, and volumetric losses.
            </div>
            <div class="tooltip-typical">Well-designed Pelton turbines: 0.85-0.92</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="coefficient">Coefficient of Discharge (C·¥Ö)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="coefficient" value="0.98" step="0.01" min="0" max="1" />
            <span class="unit">(0-1)</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Coefficient of Discharge (C·¥Ö)</div>
            <div class="tooltip-formula">C·¥Ö = Actual discharge / Theoretical discharge</div>
            <div class="tooltip-description">
              A factor that accounts for losses in the nozzle. It represents the ratio of actual flow 
              to theoretical flow through an ideal nozzle.
            </div>
            <div class="tooltip-typical">Well-designed nozzles: 0.97-0.99</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="velocityCoefficient">Velocity Coefficient (œÜ)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="velocityCoefficient" value="0.46" step="0.01" min="0" max="1" />
            <span class="unit">(0-1)</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Velocity Coefficient (œÜ)</div>
            <div class="tooltip-formula">œÜ = Runner velocity / Jet velocity</div>
            <div class="tooltip-description">
              The ratio of runner peripheral velocity to jet velocity. For maximum efficiency, 
              this is typically around 0.46 for Pelton turbines.
            </div>
            <div class="tooltip-typical">Optimal value: 0.43-0.48</div>
          </div>
        </div>
        
        <div class="input-group">
          <div class="input-header">
            <label for="numberJets">Number of Jets (z)</label>
            <div class="info-icon">i</div>
          </div>
          <div class="input-with-unit">
            <input type="number" id="numberJets" value="1" step="1" min="1" />
            <span class="unit">jets</span>
          </div>
          <div class="tooltip">
            <div class="tooltip-title">Number of Jets (z)</div>
            <div class="tooltip-formula">z = Number of nozzles directing water to runner</div>
            <div class="tooltip-description">
              The number of separate water jets impinging on the runner. Multiple jets allow for 
              higher power output without increasing jet diameter excessively.
            </div>
            <div class="tooltip-typical">Common values: 1-6 jets</div>
          </div>
        </div>
        
        <button class="calculate-btn" onclick="calculateAll()">Calculate All Parameters</button>
      </div>
      
      <div class="results-section">
        <h2 class="section-title">Calculated Parameters</h2>
        
        <div id="results" class="results-container">
          <div class="result-grid">
            <div class="result-item">
              <div class="result-label">Power (P)</div>
              <div class="result-value" id="P">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Power (P)</div>
                <div class="tooltip-formula">P = œÅ √ó g √ó H √ó Q √ó Œ∑‚ÇÄ</div>
                <div class="tooltip-description">
                  The mechanical power output of the turbine, calculated from water density (œÅ), 
                  gravity (g), head (H), flow rate (Q), and overall efficiency (Œ∑‚ÇÄ).
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Jet Velocity (Vj)</div>
              <div class="result-value" id="Vj">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Jet Velocity (Vj)</div>
                <div class="tooltip-formula">Vj = ‚àö(2 √ó g √ó H)</div>
                <div class="tooltip-description">
                  The velocity of water jet exiting the nozzle, derived from Torricelli's theorem 
                  based on gravitational acceleration (g) and head (H).
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Jet Diameter (dj)</div>
              <div class="result-value" id="dj">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Jet Diameter (dj)</div>
                <div class="tooltip-formula">dj = ‚àö(4 √ó Q / (œÄ √ó Vj))</div>
                <div class="tooltip-description">
                  The diameter of the water jet, calculated from flow rate (Q) and jet velocity (Vj) 
                  using the continuity equation.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Rotational Speed (n)</div>
              <div class="result-value" id="n">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Rotational Speed (n)</div>
                <div class="tooltip-formula">n = (120 √ó f) / p</div>
                <div class="tooltip-description">
                  The rotational speed of the turbine in RPM, determined by electrical frequency (f) 
                  and number of poles (p) in the generator.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Runner Peripheral Velocity (U)</div>
              <div class="result-value" id="U">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Runner Peripheral Velocity (U)</div>
                <div class="tooltip-formula">U = œÜ √ó Vj</div>
                <div class="tooltip-description">
                  The tangential velocity at the periphery of the runner, calculated as a fraction 
                  (œÜ) of the jet velocity (Vj) for optimal efficiency.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Runner Diameter (D)</div>
              <div class="result-value" id="D">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Runner Diameter (D)</div>
                <div class="tooltip-formula">D = (60 √ó U) / (œÄ √ó n)</div>
                <div class="tooltip-description">
                  The pitch circle diameter of the runner, determined from peripheral velocity (U) 
                  and rotational speed (n).
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Number of Buckets (Z)</div>
              <div class="result-value" id="Z">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Number of Buckets (Z)</div>
                <div class="tooltip-formula">Z = (œÄ √ó D) / (k √ó dj)</div>
                <div class="tooltip-description">
                  The optimal number of buckets on the runner, calculated from runner diameter (D), 
                  jet diameter (dj), and an empirical constant (k ‚âà 1.3).
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Bucket Width (B)</div>
              <div class="result-value" id="B">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Bucket Width (B)</div>
                <div class="tooltip-formula">B = 3.2 √ó dj</div>
                <div class="tooltip-description">
                  The width of each bucket, typically 3.2 times the jet diameter (dj) to ensure 
                  proper water capture and efficient energy transfer.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Bucket Length (L)</div>
              <div class="result-value" id="L">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Bucket Length (L)</div>
                <div class="tooltip-formula">L = 2.55 √ó dj</div>
                <div class="tooltip-description">
                  The length of each bucket, typically 2.55 times the jet diameter (dj) to provide 
                  sufficient surface for water deflection.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Bucket Depth (E)</div>
              <div class="result-value" id="E">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Bucket Depth (E)</div>
                <div class="tooltip-formula">E = 1.2 √ó dj</div>
                <div class="tooltip-description">
                  The depth of each bucket, typically 1.2 times the jet diameter (dj) to contain 
                  the water jet effectively.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Bucket Height (A)</div>
              <div class="result-value" id="A">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Bucket Height (A)</div>
                <div class="tooltip-formula">A = 2.0 √ó dj</div>
                <div class="tooltip-description">
                  The height of each bucket, typically 2.0 times the jet diameter (dj) to ensure 
                  proper clearance and water containment.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Specific Speed (Ns)</div>
              <div class="result-value" id="Ns">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Specific Speed (Ns)</div>
                <div class="tooltip-formula">Ns = n √ó ‚àöP / H^(5/4)</div>
                <div class="tooltip-description">
                  A dimensionless parameter characterizing turbine type and performance, 
                  calculated from rotational speed (n), power (P), and head (H).
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Jet Ratio (m)</div>
              <div class="result-value" id="m">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Jet Ratio (m)</div>
                <div class="tooltip-formula">m = D / dj</div>
                <div class="tooltip-description">
                  The ratio of runner diameter (D) to jet diameter (dj), an important design 
                  parameter affecting turbine efficiency and performance.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Bucket Thickness (t)</div>
              <div class="result-value" id="t">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Bucket Thickness (t)</div>
                <div class="tooltip-formula">t = 0.002 √ó D</div>
                <div class="tooltip-description">
                  The thickness of bucket material, typically 0.2% of runner diameter (D) to 
                  balance structural strength and weight.
                </div>
              </div>
            </div>
            
            <div class="result-item">
              <div class="result-label">Nozzle Width (m‚ÇÇ)</div>
              <div class="result-value" id="m2">-</div>
              <div class="tooltip">
                <div class="tooltip-title">Nozzle Width (m‚ÇÇ)</div>
                <div class="tooltip-formula">m‚ÇÇ = 1.36 √ó dj</div>
                <div class="tooltip-description">
                  The width of the nozzle opening, typically 1.36 times the jet diameter (dj) 
                  to ensure proper flow characteristics.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="info-section">
      <h2 class="section-title">About Pelton Turbines</h2>
      <div class="info-grid">
        <div class="info-card">
          <h3>What is a Pelton Turbine?</h3>
          <p>A Pelton turbine is an impulse-type water turbine invented by Lester Allan Pelton in the 1870s. It's most efficient in high-head, low-flow applications.</p>
        </div>
        
        <div class="info-card">
          <h3>How It Works</h3>
          <p>The Pelton turbine uses the impulse of moving water to drive the runner. Jets of water strike the buckets, transferring momentum to the turbine.</p>
        </div>
        
        <div class="info-card">
          <h3>Key Components</h3>
          <p>Main components include the runner with buckets, nozzle with needle valve, casing, and breaking jet. Proper dimensioning is crucial for efficiency.</p>
        </div>
      </div>
    </div>
  </div>

<script>
function calculateAll() {
  // Get input values
  const œÅ = parseFloat(document.getElementById("density").value);
  const g = parseFloat(document.getElementById("gravity").value);
  const H = parseFloat(document.getElementById("head").value);
  const Q = parseFloat(document.getElementById("flow").value);
  const f = parseFloat(document.getElementById("frequency").value);
  const p = parseInt(document.getElementById("poles").value);
  const Œ∑ = parseFloat(document.getElementById("efficiency").value);
  const CD = parseFloat(document.getElementById("coefficient").value);
  const œÜ = parseFloat(document.getElementById("velocityCoefficient").value);
  const z = parseInt(document.getElementById("numberJets").value);
  
  // Calculate rotational speed
  const n = (120 * f) / p;
  
  // Method 1 calculations (from first code)
  const Vj = Math.sqrt(2 * g * H);
  const dj = Math.sqrt((4 * Q) / (Math.PI * Vj));
  const U = œÜ * Vj;
  const D = (60 * U) / (Math.PI * n);
  const k = 1.3;
  const Z = Math.round((Math.PI * D) / (k * dj));
  const B = (3.2 * dj).toFixed(3);
  const L = (2.55 * dj).toFixed(3);
  const E = (1.2 * dj).toFixed(3);
  const A = (2.0 * dj).toFixed(3);
  
  // Method 2 calculations (from second code)
  const P = œÅ * g * H * Q * Œ∑;
  const c1 = CD * Math.sqrt(2 * g * H);
  const u = œÜ * c1;
  const Ns = n * Math.sqrt(P) / Math.pow(H, 1.25);
  const ds = Math.sqrt(4 * Q / (z * Math.PI * c1));
  const D2 = (u * 60) / (Math.PI * n);
  const m = D2 / ds;
  const Zb = Math.round(0.5 * m + 15);
  const t = (0.002 * D2).toFixed(4);
  const m2 = (1.36 * ds).toFixed(3);
  
  // Display results
  document.getElementById("P").textContent = P.toFixed(2) + " W";
  document.getElementById("Vj").textContent = Vj.toFixed(3) + " m/s";
  document.getElementById("dj").textContent = dj.toFixed(3) + " m";
  document.getElementById("n").textContent = n.toFixed(0) + " rpm";
  document.getElementById("U").textContent = U.toFixed(3) + " m/s";
  document.getElementById("D").textContent = D.toFixed(3) + " m";
  document.getElementById("Z").textContent = Z;
  document.getElementById("B").textContent = B + " m";
  document.getElementById("L").textContent = L + " m";
  document.getElementById("E").textContent = E + " m";
  document.getElementById("A").textContent = A + " m";
  document.getElementById("Ns").textContent = Ns.toFixed(2);
  document.getElementById("m").textContent = m.toFixed(2);
  document.getElementById("t").textContent = t + " m";
  document.getElementById("m2").textContent = m2 + " m";
  
  document.getElementById("results").style.display = "block";
}

function toggleDarkMode() {
  document.documentElement.classList.toggle("dark-mode");
}

// Auto calculate on page load
window.onload = calculateAll;
</script>

</body>
</html>
